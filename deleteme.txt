cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
ok  	github.com/ONSdigital/dp-frontend-search-controller	(cached)	coverage: 0.0% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/apperrors	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/assets	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache	(cached)	coverage: 86.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/private	(cached)	coverage: 100.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/public	(cached)	coverage: 94.5% of statements
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33mx[0m[32m.[0m[32m.[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/config/config_test.go 
  Line 38:
  Expected: '30s'
  Actual:   '3m20s'
  (Should be equal)
  Diff:     '3[32mm2[0m0s'

[0m[33m
20 total assertions[0m

--- FAIL: TestConfig (0.02s)
FAIL
coverage: 72.7% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/config	0.230s
ok  	github.com/ONSdigital/dp-frontend-search-controller/data	(cached)	coverage: 96.5% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/features/steps	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/handlers	(cached)	coverage: 86.8% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/mapper	(cached)	coverage: 74.1% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/model	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/routes	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/service	(cached)	coverage: 83.7% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/service/mocks	[no test files]
FAIL
cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
ok  	github.com/ONSdigital/dp-frontend-search-controller	1.541s	coverage: 0.0% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/apperrors	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/assets	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache	0.861s	coverage: 86.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/private	0.350s	coverage: 100.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/public	1.004s	coverage: 94.5% of statements
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33mx[0m[32m.[0m[32m.[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/config/config_test.go 
  Line 38:
  Expected: '30s'
  Actual:   '3m20s'
  (Should be equal)
  Diff:     '3[32mm2[0m0s'

[0m[33m
20 total assertions[0m

--- FAIL: TestConfig (0.00s)
FAIL
coverage: 72.7% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/config	0.270s
ok  	github.com/ONSdigital/dp-frontend-search-controller/data	1.220s	coverage: 96.5% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/features/steps	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/handlers	1.517s	coverage: 86.8% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/mapper	0.756s	coverage: 74.1% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/model	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/routes	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/service	1.766s	coverage: 83.7% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/service/mocks	[no test files]
FAIL
cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
ok  	github.com/ONSdigital/dp-frontend-search-controller	1.060s	coverage: 0.0% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/apperrors	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/assets	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache	0.832s	coverage: 86.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/private	1.041s	coverage: 100.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/public	0.663s	coverage: 94.5% of statements
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33mx[0m[32m.[0m[32m.[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/config/config_test.go 
  Line 38:
  Expected: '30s'
  Actual:   '3m20s'
  (Should be equal)
  Diff:     '3[32mm2[0m0s'

[0m[33m
20 total assertions[0m

--- FAIL: TestConfig (0.00s)
FAIL
coverage: 72.7% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/config	0.273s
ok  	github.com/ONSdigital/dp-frontend-search-controller/data	0.664s	coverage: 96.5% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/features/steps	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/handlers	1.039s	coverage: 86.8% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/mapper	0.895s	coverage: 74.1% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/model	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/routes	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/service	1.528s	coverage: 83.7% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/service/mocks	[no test files]
FAIL
cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
ok  	github.com/ONSdigital/dp-frontend-search-controller	1.251s	coverage: 0.0% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/apperrors	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/assets	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache	0.656s	coverage: 86.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/private	0.353s	coverage: 100.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/public	0.588s	coverage: 94.5% of statements
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33mx[0m[32m.[0m[32m.[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/config/config_test.go 
  Line 38:
  Expected: '30s'
  Actual:   '3m20s'
  (Should be equal)
  Diff:     '3[32mm2[0m0s'

[0m[33m
20 total assertions[0m

--- FAIL: TestConfig (0.00s)
FAIL
coverage: 72.7% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/config	0.313s
ok  	github.com/ONSdigital/dp-frontend-search-controller/data	1.032s	coverage: 96.5% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/features/steps	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/handlers	0.813s	coverage: 86.8% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/mapper	1.217s	coverage: 74.1% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/model	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/routes	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/service	1.617s	coverage: 83.7% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/service/mocks	[no test files]
FAIL
cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
ok  	github.com/ONSdigital/dp-frontend-search-controller	1.319s	coverage: 0.0% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/apperrors	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/assets	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache	0.701s	coverage: 86.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/private	0.415s	coverage: 100.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/public	0.719s	coverage: 94.5% of statements
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33mx[0m[32m.[0m[32m.[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/config/config_test.go 
  Line 38:
  Expected: '30s'
  Actual:   '3m20s'
  (Should be equal)
  Diff:     '3[32mm2[0m0s'

[0m[33m
20 total assertions[0m

--- FAIL: TestConfig (0.00s)
FAIL
coverage: 72.7% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/config	0.367s
ok  	github.com/ONSdigital/dp-frontend-search-controller/data	1.304s	coverage: 96.5% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/features/steps	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/handlers	1.034s	coverage: 86.8% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/mapper	1.075s	coverage: 74.1% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/model	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/routes	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/service	1.415s	coverage: 83.7% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/service/mocks	[no test files]
FAIL
cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
ok  	github.com/ONSdigital/dp-frontend-search-controller	1.354s	coverage: 0.0% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/apperrors	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/assets	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache	0.766s	coverage: 86.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/private	0.413s	coverage: 100.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/public	0.714s	coverage: 94.5% of statements
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33mx[0m[32m.[0m[32m.[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/config/config_test.go 
  Line 38:
  Expected: '30s'
  Actual:   '3m20s'
  (Should be equal)
  Diff:     '3[32mm2[0m0s'

[0m[33m
20 total assertions[0m

--- FAIL: TestConfig (0.01s)
FAIL
coverage: 72.7% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/config	0.334s
ok  	github.com/ONSdigital/dp-frontend-search-controller/data	1.203s	coverage: 96.5% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/features/steps	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/handlers	1.350s	coverage: 86.8% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/mapper	0.999s	coverage: 74.1% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/model	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/routes	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/service	1.278s	coverage: 83.7% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/service/mocks	[no test files]
FAIL
cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
ok  	github.com/ONSdigital/dp-frontend-search-controller	1.265s	coverage: 0.0% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/apperrors	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/assets	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache	0.675s	coverage: 86.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/private	0.843s	coverage: 100.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/public	0.546s	coverage: 94.5% of statements
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33mx[0m[32m.[0m[32m.[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/config/config_test.go 
  Line 38:
  Expected: '30s'
  Actual:   '3m20s'
  (Should be equal)
  Diff:     '3[32mm2[0m0s'

[0m[33m
20 total assertions[0m

--- FAIL: TestConfig (0.00s)
FAIL
coverage: 72.7% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/config	0.454s
ok  	github.com/ONSdigital/dp-frontend-search-controller/data	1.115s	coverage: 96.5% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/features/steps	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/handlers	1.198s	coverage: 86.8% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/mapper	1.238s	coverage: 74.1% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/model	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/routes	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/service	1.485s	coverage: 83.7% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/service/mocks	[no test files]
FAIL
cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
ok  	github.com/ONSdigital/dp-frontend-search-controller	1.363s	coverage: 0.0% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/apperrors	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/assets	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache	0.766s	coverage: 86.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/private	0.637s	coverage: 100.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/public	0.901s	coverage: 94.5% of statements
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33mx[0m[32m.[0m[32m.[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/config/config_test.go 
  Line 38:
  Expected: '30s'
  Actual:   '3m20s'
  (Should be equal)
  Diff:     '3[32mm2[0m0s'

[0m[33m
20 total assertions[0m

--- FAIL: TestConfig (0.00s)
FAIL
coverage: 72.7% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/config	0.378s
ok  	github.com/ONSdigital/dp-frontend-search-controller/data	0.993s	coverage: 96.5% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/features/steps	[no test files]
[32m.[0m[32m.[0m[32m.[32m.[0m[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[32m.[0m[0m[32m
9 total assertions[0m

[32m.[0m[31m[0m[33m[0m[32m
10 total assertions[0m

{
  "created_at": "2022-10-10T14:29:33.167643Z",
  "data": {
    "filter_type": "unknown"
  },
  "event": "unrecognised filter type returned from api",
  "namespace": "handlers.test",
  "severity": 2
}
{Intro:{Title: Markdown:} FeaturedContent:[{Title:Weekly deaths Description:The most up-to-date provisional figures for deaths involving the coronavirus (COVID-19) on Mars. URI:https://www.ons.gov.uk/peoplepopulationandcommunity/birthsdeathsandmarriages/deaths/datasets/weeklyprovisionalfiguresondeathsregisteredinenglandandwales ImageID:23083a36-f835-4731-8189-8ee8d7918120} {Title:Coronavirus - faster indicators Description:The latest data and experimental indicators on the UK economy and society. URI:https://www.ons.gov.uk/peoplepopulationandcommunity/healthandsocialcare/conditionsanddiseases/bulletins/coronavirustheukeconomyandsocietyfasterindicators/latest ImageID:b085fec3-bba6-40fc-9763-a2b36f98e538} {Title:Coronavirus roundup Description:Our summary of the latest data and analysis related to the coronavirus pandemic. URI:https://www.ons.gov.uk/peoplepopulationandcommunity/healthandsocialcare/conditionsanddiseases/articles/coronaviruscovid19roundup/2020-03-26 ImageID:e354e92b-d991-4e5a-8873-0b9ca9915226} {Title:homepage preview Description:Find out more about the work ONS is doing to respond to the challenge of the pandemic. URI:https://blog.ons.gov.uk/category/coronavirus/ ImageID:0d5d1b9a-c497-42bc-ba7e-f88681271d52} {Title:The News Description:This is the news URI:https://www.bbc.co.uk/news ImageID:6fda8715-1389-4fb1-96d0-a2b817d3cc5b} {Title:Something Description:Some text here. Some more text here. URI:http://www.somewhere.com/ ImageID:14a87d00-308c-4eb1-8c25-5bbd939dc9a1} {Title:Cows Description:Cows are lovely URI:https://www.britannica.com/animal/cow ImageID:028b71c9-9b67-4b6f-be76-78b5c056ee96} {Title:Batman Description:Batman URI:testimage.gov.uk ImageID:9507972f-7072-41d5-9d97-ed02aa4482e7}] AroundONS:[{Title:Local statistics Description:Where to find statistics covering specific areas. URI:https://www.ons.gov.uk/help/localstatistics ImageID:55664eaa-36a5-45b5-afd4-0e8243c16f1b} {Title:Secure Research Service Description:Find out how ONS secure data could help your research project. URI:https://www.ons.gov.uk/aboutus/whatwedo/statistics/requestingstatistics/approvedresearcherscheme ImageID:d9ec9cae-087c-47c6-959a-1c51e7db165a} {Title:ONS Centres Description:Producing new analysis and insights to support key policy areas. URI:https://www.ons.gov.uk/aboutus/whatwedo/programmesandprojects/onscentres ImageID:7fa70866-e8b9-4152-b9e5-f25a05e6621c} {Title:Other government statistics Description:Official Statistics available from across government. URI:https://www.gov.uk/government/statistics ImageID:6f84daa0-3eea-4264-87af-18d00022cc6f} {Title:Test Around ONS Description:Test the Around ONS feature for demo some more URI:/aroundonstest ImageID:491d665d-d0f5-4f4b-9570-6c2a28f11c1a}] ServiceMessage:this is a test URI:/ Type:home_page Description:{Title:Home Summary:The UK's largest independent producer of official statistics and the recognised national statistical institute of the UK. Keywords:[statistics economy census population inflation employment] MetaDescription:The UK's largest independent producer of official statistics and the recognised national statistical institute of the UK. Unit: PreUnit: Source:} EmergencyBanner:{Type:notable_death Title:This is not not an emergency Description:Something has gone wrong URI:google.com LinkText:More info}}
[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
12 total assertions[0m

[32m.[0m[31m[0m[33m[0m[32m
13 total assertions[0m

[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:29:33.162241Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.validateCurrentPage",
          "line": 156
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitValidateCurrentPageFailure.func1.1.1",
          "line": 386
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "current page exceeds total pages",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[31m[0m[33m[0m[32m
16 total assertions[0m

[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
18 total assertions[0m

{
  "created_at": "2022-10-10T14:29:33.162846Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitSetStatusCodeSuccess.func1.1",
          "line": 544
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:33.169381Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
[32m.[0m[31m[0m[33m[0m[32m
19 total assertions[0m

{
  "created_at": "2022-10-10T14:29:33.169732Z",
  "event": "unable to convert search page to int - set to default 1",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:29:33.17004Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
[32m.[0m[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:29:33.170731Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33m[32m.[0mx[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go 
  Line 107:
  Expected: '1234'
  Actual:   ''
  (Should be equal)

[0m[33m
28 total assertions[0m

--- FAIL: TestUnitReadHandlerSuccess (0.01s)
{
  "created_at": "2022-10-10T14:29:33.171852Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:29:33.162476Z",
  "data": {
    "url_values": {
      "content_type": [
        "bulletin"
      ],
      "limit": [
        "10"
      ],
      "offset": [
        "0"
      ],
      "q": [
        "housing"
      ],
      "sort": [
        "relevance"
      ]
    }
  },
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.getCategoriesTypesCount",
          "line": 183
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitGetCategoriesTypesCountFailure.func1.2",
          "line": 464
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "getting search query count from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
[32m{
  "created_at": "2022-10-10T14:29:33.172154Z",
  "event": "unable to convert search page to int - set to default 1",
  "namespace": "handlers.test",
  "severity": 3
}
.[0m{
  "created_at": "2022-10-10T14:29:33.172423Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
{
  "created_at": "2022-10-10T14:29:33.170267Z",
  "errors": [
    {
      "message": "client error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitSetStatusCodeSuccess.func2.1",
          "line": 559
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[31m[0m[33m[0m[33m
30 total assertions[0m

[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
36 total assertions[0m

{
  "created_at": "2022-10-10T14:29:33.171101Z",
  "data": {
    "current_page": 1000000,
    "limit": 10
  },
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/pagination.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.getOffset",
          "line": 95
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/pagination.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.reviewPagination",
          "line": 33
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/query.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.ReviewQuery",
          "line": 29
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 55
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        }
      ]
    }
  ],
  "event": "offset is too big as large page and/or limit given",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:33.175496Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/pagination.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.reviewPagination",
          "line": 35
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/query.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.ReviewQuery",
          "line": 29
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 55
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        }
      ]
    }
  ],
  "event": "unable to get offset",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:33.172698Z",
  "data": {
    "url_values": {
      "content_type": [
        "bulletin"
      ],
      "limit": [
        "10"
      ],
      "offset": [
        "0"
      ],
      "q": [
        "housing"
      ],
      "sort": [
        "relevance"
      ]
    }
  },
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.getCategoriesTypesCount",
          "line": 183
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitGetCategoriesTypesCountFailure.func1.2",
          "line": 464
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "getting search query count from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:29:33.173976Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitSetStatusCodeSuccess.func3.1",
          "line": 574
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[31m[0m[33m[0m[33m[32m.[0m
41 total assertions[0m

[31m[0m[33m[0m[33m
42 total assertions[0m

{
  "created_at": "2022-10-10T14:29:33.176732Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/query.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.ReviewQuery",
          "line": 31
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 55
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "unable to review pagination",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:33.17813Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 57
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "unable to review query",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:33.179464Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 58
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
46 total assertions[0m

[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:29:33.181339Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:29:33.181516Z",
  "event": "unable to convert search page to int - set to default 1",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:29:33.18169Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
{
  "created_at": "2022-10-10T14:29:33.182021Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func2",
          "line": 112
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "getting search response from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:33.182017Z",
  "data": {
    "url_values": {
      "limit": [
        "10"
      ],
      "offset": [
        "0"
      ],
      "q": [
        "housing"
      ],
      "sort": [
        "relevance"
      ]
    }
  },
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.getCategoriesTypesCount",
          "line": 183
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func3",
          "line": 121
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "getting search query count from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:33.182847Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func3",
          "line": 123
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "getting categories, types and its counts failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:33.183368Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func3",
          "line": 124
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:33.18402Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 133
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func2.5",
          "line": 271
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
52 total assertions[0m

[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:29:33.185897Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:29:33.18606Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
{
  "created_at": "2022-10-10T14:29:33.186412Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.validateCurrentPage",
          "line": 156
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 137
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func3.5",
          "line": 312
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "current page exceeds total pages",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:33.187719Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 139
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func3.5",
          "line": 312
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "unable to validate current page",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:33.188888Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 140
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func3.5",
          "line": 312
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
58 total assertions[0m

FAIL
coverage: 86.8% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/handlers	1.519s
ok  	github.com/ONSdigital/dp-frontend-search-controller/mapper	1.218s	coverage: 74.1% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/model	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/routes	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/service	1.293s	coverage: 83.7% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/service/mocks	[no test files]
FAIL
cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
ok  	github.com/ONSdigital/dp-frontend-search-controller	1.245s	coverage: 0.0% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/apperrors	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/assets	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache	0.701s	coverage: 86.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/private	0.713s	coverage: 100.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/public	0.421s	coverage: 94.5% of statements
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33mx[0m[32m.[0m[32m.[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/config/config_test.go 
  Line 38:
  Expected: '30s'
  Actual:   '3m20s'
  (Should be equal)
  Diff:     '3[32mm2[0m0s'

[0m[33m
20 total assertions[0m

--- FAIL: TestConfig (0.01s)
FAIL
coverage: 72.7% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/config	0.349s
ok  	github.com/ONSdigital/dp-frontend-search-controller/data	1.146s	coverage: 96.5% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/features/steps	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/handlers	1.632s	coverage: 86.8% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/mapper	1.325s	coverage: 74.1% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/model	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/routes	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/service	1.252s	coverage: 83.7% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/service/mocks	[no test files]
FAIL
cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
ok  	github.com/ONSdigital/dp-frontend-search-controller	1.410s	coverage: 0.0% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/apperrors	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/assets	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache	0.645s	coverage: 86.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/private	0.823s	coverage: 100.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/public	0.526s	coverage: 94.5% of statements
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33mx[0m[32m.[0m[32m.[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/config/config_test.go 
  Line 38:
  Expected: '30s'
  Actual:   '3m20s'
  (Should be equal)
  Diff:     '3[32mm2[0m0s'

[0m[33m
20 total assertions[0m

--- FAIL: TestConfig (0.01s)
FAIL
coverage: 72.7% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/config	0.337s
ok  	github.com/ONSdigital/dp-frontend-search-controller/data	1.084s	coverage: 96.5% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/features/steps	[no test files]
[32m.[0m[31m[0m[33m[0m[32m
1 total assertion[0m

[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
3 total assertions[0m

[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
5 total assertions[0m

{
  "created_at": "2022-10-10T14:29:46.70922Z",
  "data": {
    "filter_type": "unknown"
  },
  "event": "unrecognised filter type returned from api",
  "namespace": "handlers.test",
  "severity": 2
}
[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
7 total assertions[0m

[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
14 total assertions[0m

{
  "created_at": "2022-10-10T14:29:46.705506Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.validateCurrentPage",
          "line": 156
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitValidateCurrentPageFailure.func1.1.1",
          "line": 386
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "current page exceeds total pages",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
16 total assertions[0m

{
  "created_at": "2022-10-10T14:29:46.705018Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitSetStatusCodeSuccess.func1.1",
          "line": 544
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[31m[0m[33m[0m[32m
17 total assertions[0m

{
  "created_at": "2022-10-10T14:29:46.704875Z",
  "data": {
    "url_values": {
      "content_type": [
        "bulletin"
      ],
      "limit": [
        "10"
      ],
      "offset": [
        "0"
      ],
      "q": [
        "housing"
      ],
      "sort": [
        "relevance"
      ]
    }
  },
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.getCategoriesTypesCount",
          "line": 183
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitGetCategoriesTypesCountFailure.func1.2",
          "line": 464
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "getting search query count from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m{Intro:{Title: Markdown:} FeaturedContent:[{Title:Weekly deaths Description:The most up-to-date provisional figures for deaths involving the coronavirus (COVID-19) on Mars. URI:https://www.ons.gov.uk/peoplepopulationandcommunity/birthsdeathsandmarriages/deaths/datasets/weeklyprovisionalfiguresondeathsregisteredinenglandandwales ImageID:23083a36-f835-4731-8189-8ee8d7918120} {Title:Coronavirus - faster indicators Description:The latest data and experimental indicators on the UK economy and society. URI:https://www.ons.gov.uk/peoplepopulationandcommunity/healthandsocialcare/conditionsanddiseases/bulletins/coronavirustheukeconomyandsocietyfasterindicators/latest ImageID:b085fec3-bba6-40fc-9763-a2b36f98e538} {Title:Coronavirus roundup Description:Our summary of the latest data and analysis related to the coronavirus pandemic. URI:https://www.ons.gov.uk/peoplepopulationandcommunity/healthandsocialcare/conditionsanddiseases/articles/coronaviruscovid19roundup/2020-03-26 ImageID:e354e92b-d991-4e5a-8873-0b9ca9915226} {Title:homepage preview Description:Find out more about the work ONS is doing to respond to the challenge of the pandemic. URI:https://blog.ons.gov.uk/category/coronavirus/ ImageID:0d5d1b9a-c497-42bc-ba7e-f88681271d52} {Title:The News Description:This is the news URI:https://www.bbc.co.uk/news ImageID:6fda8715-1389-4fb1-96d0-a2b817d3cc5b} {Title:Something Description:Some text here. Some more text here. URI:http://www.somewhere.com/ ImageID:14a87d00-308c-4eb1-8c25-5bbd939dc9a1} {Title:Cows Description:Cows are lovely URI:https://www.britannica.com/animal/cow ImageID:028b71c9-9b67-4b6f-be76-78b5c056ee96} {Title:Batman Description:Batman URI:testimage.gov.uk ImageID:9507972f-7072-41d5-9d97-ed02aa4482e7}] AroundONS:[{Title:Local statistics Description:Where to find statistics covering specific areas. URI:https://www.ons.gov.uk/help/localstatistics ImageID:55664eaa-36a5-45b5-afd4-0e8243c16f1b} {Title:Secure Research Service Description:Find out how ONS secure data could help your research project. URI:https://www.ons.gov.uk/aboutus/whatwedo/statistics/requestingstatistics/approvedresearcherscheme ImageID:d9ec9cae-087c-47c6-959a-1c51e7db165a} {Title:ONS Centres Description:Producing new analysis and insights to support key policy areas. URI:https://www.ons.gov.uk/aboutus/whatwedo/programmesandprojects/onscentres ImageID:7fa70866-e8b9-4152-b9e5-f25a05e6621c} {Title:Other government statistics Description:Official Statistics available from across government. URI:https://www.gov.uk/government/statistics ImageID:6f84daa0-3eea-4264-87af-18d00022cc6f} {Title:Test Around ONS Description:Test the Around ONS feature for demo some more URI:/aroundonstest ImageID:491d665d-d0f5-4f4b-9570-6c2a28f11c1a}] ServiceMessage:this is a test URI:/ Type:home_page Description:{Title:Home Summary:The UK's largest independent producer of official statistics and the recognised national statistical institute of the UK. Keywords:[statistics economy census population inflation employment] MetaDescription:The UK's largest independent producer of official statistics and the recognised national statistical institute of the UK. Unit: PreUnit: Source:} EmergencyBanner:{Type:notable_death Title:This is not not an emergency Description:Something has gone wrong URI:google.com LinkText:More info}}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:29:46.711926Z",
  "errors": [
    {
      "message": "client error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitSetStatusCodeSuccess.func2.1",
          "line": 559
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
25 total assertions[0m

{
  "created_at": "2022-10-10T14:29:46.711928Z",
  "data": {
    "url_values": {
      "content_type": [
        "bulletin"
      ],
      "limit": [
        "10"
      ],
      "offset": [
        "0"
      ],
      "q": [
        "housing"
      ],
      "sort": [
        "relevance"
      ]
    }
  },
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.getCategoriesTypesCount",
          "line": 183
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitGetCategoriesTypesCountFailure.func1.2",
          "line": 464
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "getting search query count from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:46.714081Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:29:46.714244Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:29:46.714409Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
[32m.[0m{
  "created_at": "2022-10-10T14:29:46.714421Z",
  "event": "unable to convert search page to int - set to default 1",
  "namespace": "handlers.test",
  "severity": 3
}
[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
30 total assertions{
  "created_at": "2022-10-10T14:29:46.714605Z",
  "event": "unable to convert search page to int - set to default 1",
  "namespace": "handlers.test",
  "severity": 3
}
[0m

{
  "created_at": "2022-10-10T14:29:46.714743Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
{
  "created_at": "2022-10-10T14:29:46.714925Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
[32m.[0m[32m.[32m.[0m[0m[32m.[32m.[0m[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
40 total assertions[0m

[33mx[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go 
  Line 107:
  Expected: '1234'
  Actual:   ''
  (Should be equal)

[0m[33m
41 total assertions[0m

--- FAIL: TestUnitReadHandlerSuccess (0.01s)
{
  "created_at": "2022-10-10T14:29:46.71463Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitSetStatusCodeSuccess.func3.1",
          "line": 574
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[31m[0m[33m[0m[33m
42 total assertions[0m

{
  "created_at": "2022-10-10T14:29:46.714665Z",
  "data": {
    "current_page": 1000000,
    "limit": 10
  },
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/pagination.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.getOffset",
          "line": 95
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/pagination.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.reviewPagination",
          "line": 33
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/query.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.ReviewQuery",
          "line": 29
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 55
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        }
      ]
    }
  ],
  "event": "offset is too big as large page and/or limit given",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:46.71856Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/pagination.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.reviewPagination",
          "line": 35
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/query.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.ReviewQuery",
          "line": 29
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 55
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        }
      ]
    }
  ],
  "event": "unable to get offset",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:46.719844Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/query.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.ReviewQuery",
          "line": 31
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 55
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "unable to review pagination",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:46.721097Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 57
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "unable to review query",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:46.722327Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 58
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
46 total assertions[0m

[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:29:46.724183Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:29:46.724346Z",
  "event": "unable to convert search page to int - set to default 1",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:29:46.724499Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
{
  "created_at": "2022-10-10T14:29:46.724828Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func2",
          "line": 112
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "getting search response from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:46.724828Z",
  "data": {
    "url_values": {
      "limit": [
        "10"
      ],
      "offset": [
        "0"
      ],
      "q": [
        "housing"
      ],
      "sort": [
        "relevance"
      ]
    }
  },
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.getCategoriesTypesCount",
          "line": 183
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func3",
          "line": 121
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "getting search query count from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:46.725912Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func3",
          "line": 123
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "getting categories, types and its counts failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:46.726462Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func3",
          "line": 124
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:46.727061Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 133
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func2.5",
          "line": 271
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
52 total assertions[0m

[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:29:46.728874Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:29:46.729031Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
{
  "created_at": "2022-10-10T14:29:46.729558Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.validateCurrentPage",
          "line": 156
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 137
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func3.5",
          "line": 312
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "current page exceeds total pages",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:46.7312Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 139
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func3.5",
          "line": 312
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "unable to validate current page",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:46.73241Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 140
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func3.5",
          "line": 312
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
58 total assertions[0m

FAIL
coverage: 86.8% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/handlers	1.290s
ok  	github.com/ONSdigital/dp-frontend-search-controller/mapper	1.046s	coverage: 74.1% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/model	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/routes	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/service	1.600s	coverage: 83.7% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/service/mocks	[no test files]
FAIL
cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
ok  	github.com/ONSdigital/dp-frontend-search-controller	2.016s	coverage: 0.0% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/apperrors	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/assets	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache	0.720s	coverage: 86.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/private	0.659s	coverage: 100.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/public	0.454s	coverage: 94.5% of statements
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33mx[0m[32m.[0m[32m.[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/config/config_test.go 
  Line 38:
  Expected: '30s'
  Actual:   '3m20s'
  (Should be equal)
  Diff:     '3[32mm2[0m0s'

[0m[33m
20 total assertions[0m

--- FAIL: TestConfig (0.01s)
FAIL
coverage: 72.7% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/config	0.331s
ok  	github.com/ONSdigital/dp-frontend-search-controller/data	0.991s	coverage: 96.5% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/features/steps	[no test files]
[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
2 total assertions[0m

[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
4 total assertions[0m

[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[32m[32m
9 total assertions[0m

.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
12 total assertions[0m

{
  "created_at": "2022-10-10T14:29:53.575313Z",
  "data": {
    "filter_type": "unknown"
  },
  "event": "unrecognised filter type returned from api",
  "namespace": "handlers.test",
  "severity": 2
}
[32m.[0m{Intro:{Title: Markdown:} FeaturedContent:[{Title:Weekly deaths Description:The most up-to-date provisional figures for deaths involving the coronavirus (COVID-19) on Mars. URI:https://www.ons.gov.uk/peoplepopulationandcommunity/birthsdeathsandmarriages/deaths/datasets/weeklyprovisionalfiguresondeathsregisteredinenglandandwales ImageID:23083a36-f835-4731-8189-8ee8d7918120} {Title:Coronavirus - faster indicators Description:The latest data and experimental indicators on the UK economy and society. URI:https://www.ons.gov.uk/peoplepopulationandcommunity/healthandsocialcare/conditionsanddiseases/bulletins/coronavirustheukeconomyandsocietyfasterindicators/latest ImageID:b085fec3-bba6-40fc-9763-a2b36f98e538} {Title:Coronavirus roundup Description:Our summary of the latest data and analysis related to the coronavirus pandemic. URI:https://www.ons.gov.uk/peoplepopulationandcommunity/healthandsocialcare/conditionsanddiseases/articles/coronaviruscovid19roundup/2020-03-26 ImageID:e354e92b-d991-4e5a-8873-0b9ca9915226} {Title:homepage preview Description:Find out more about the work ONS is doing to respond to the challenge of the pandemic. URI:https://blog.ons.gov.uk/category/coronavirus/ ImageID:0d5d1b9a-c497-42bc-ba7e-f88681271d52} {Title:The News Description:This is the news URI:https://www.bbc.co.uk/news ImageID:6fda8715-1389-4fb1-96d0-a2b817d3cc5b} {Title:Something Description:Some text here. Some more text here. URI:http://www.somewhere.com/ ImageID:14a87d00-308c-4eb1-8c25-5bbd939dc9a1} {Title:Cows Description:Cows are lovely URI:https://www.britannica.com/animal/cow ImageID:028b71c9-9b67-4b6f-be76-78b5c056ee96} {Title:Batman Description:Batman URI:testimage.gov.uk ImageID:9507972f-7072-41d5-9d97-ed02aa4482e7}] AroundONS:[{Title:Local statistics Description:Where to find statistics covering specific areas. URI:https://www.ons.gov.uk/help/localstatistics ImageID:55664eaa-36a5-45b5-afd4-0e8243c16f1b} {Title:Secure Research Service Description:Find out how ONS secure data could help your research project. URI:https://www.ons.gov.uk/aboutus/whatwedo/statistics/requestingstatistics/approvedresearcherscheme ImageID:d9ec9cae-087c-47c6-959a-1c51e7db165a} {Title:ONS Centres Description:Producing new analysis and insights to support key policy areas. URI:https://www.ons.gov.uk/aboutus/whatwedo/programmesandprojects/onscentres ImageID:7fa70866-e8b9-4152-b9e5-f25a05e6621c} {Title:Other government statistics Description:Official Statistics available from across government. URI:https://www.gov.uk/government/statistics ImageID:6f84daa0-3eea-4264-87af-18d00022cc6f} {Title:Test Around ONS Description:Test the Around ONS feature for demo some more URI:/aroundonstest ImageID:491d665d-d0f5-4f4b-9570-6c2a28f11c1a}] ServiceMessage:this is a test URI:/ Type:home_page Description:{Title:Home Summary:The UK's largest independent producer of official statistics and the recognised national statistical institute of the UK. Keywords:[statistics economy census population inflation employment] MetaDescription:The UK's largest independent producer of official statistics and the recognised national statistical institute of the UK. Unit: PreUnit: Source:} EmergencyBanner:{Type:notable_death Title:This is not not an emergency Description:Something has gone wrong URI:google.com LinkText:More info}}
[32m.[0m[31m[0m[33m[0m[32m
14 total assertions[0m

[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:29:53.571196Z",
  "data": {
    "url_values": {
      "content_type": [
        "bulletin"
      ],
      "limit": [
        "10"
      ],
      "offset": [
        "0"
      ],
      "q": [
        "housing"
      ],
      "sort": [
        "relevance"
      ]
    }
  },
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.getCategoriesTypesCount",
          "line": 183
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitGetCategoriesTypesCountFailure.func1.2",
          "line": 464
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "getting search query count from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m{
  "created_at": "2022-10-10T14:29:53.578058Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:29:53.57159Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.validateCurrentPage",
          "line": 156
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitValidateCurrentPageFailure.func1.1.1",
          "line": 386
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "current page exceeds total pages",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m{
  "created_at": "2022-10-10T14:29:53.57835Z",
  "event": "unable to convert search page to int - set to default 1",
  "namespace": "handlers.test",
  "severity": 3
}
[32m.[0m[31m[0m[33m[0m{
  "created_at": "2022-10-10T14:29:53.57118Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitSetStatusCodeSuccess.func1.1",
          "line": 544
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m
19 total assertions[0m

[32m.[0m[31m[0m[33m[0m[32m
20 total assertions[0m

{
  "created_at": "2022-10-10T14:29:53.578613Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:29:53.579535Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:29:53.579524Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
[33mx[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go 
  Line 107:
  Expected: '1234'
  Actual:   ''
  (Should be equal)

[0m[33m{
  "created_at": "2022-10-10T14:29:53.579869Z",
  "event": "unable to convert search page to int - set to default 1",
  "namespace": "handlers.test",
  "severity": 3
}

29 total assertions[0m

--- FAIL: TestUnitReadHandlerSuccess (0.01s)
{
  "created_at": "2022-10-10T14:29:53.580211Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
[32m.[0m[32m.[0m[32m{
  "created_at": "2022-10-10T14:29:53.579206Z",
  "errors": [
    {
      "message": "client error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitSetStatusCodeSuccess.func2.1",
          "line": 559
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
.[0m{
  "created_at": "2022-10-10T14:29:53.578254Z",
  "data": {
    "url_values": {
      "content_type": [
        "bulletin"
      ],
      "limit": [
        "10"
      ],
      "offset": [
        "0"
      ],
      "q": [
        "housing"
      ],
      "sort": [
        "relevance"
      ]
    }
  },
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.getCategoriesTypesCount",
          "line": 183
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitGetCategoriesTypesCountFailure.func1.2",
          "line": 464
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "getting search query count from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[31m[0m[33m[0m[32m.[0m[33m[32m
34 total assertions[0m

.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
39 total assertions[0m

[32m.[0m[31m[0m[33m[0m[33m
41 total assertions[0m

{
  "created_at": "2022-10-10T14:29:53.579867Z",
  "data": {
    "current_page": 1000000,
    "limit": 10
  },
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/pagination.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.getOffset",
          "line": 95
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/pagination.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.reviewPagination",
          "line": 33
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/query.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.ReviewQuery",
          "line": 29
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 55
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        }
      ]
    }
  ],
  "event": "offset is too big as large page and/or limit given",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:53.582791Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitSetStatusCodeSuccess.func3.1",
          "line": 574
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[31m[0m[33m[0m[33m
42 total assertions[0m

{
  "created_at": "2022-10-10T14:29:53.584346Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/pagination.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.reviewPagination",
          "line": 35
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/query.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.ReviewQuery",
          "line": 29
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 55
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        }
      ]
    }
  ],
  "event": "unable to get offset",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:53.586477Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/query.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.ReviewQuery",
          "line": 31
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 55
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "unable to review pagination",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:53.588371Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 57
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "unable to review query",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:53.590389Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 58
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
46 total assertions[0m

[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:29:53.592783Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:29:53.592999Z",
  "event": "unable to convert search page to int - set to default 1",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:29:53.593219Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
{
  "created_at": "2022-10-10T14:29:53.594276Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func2",
          "line": 112
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "getting search response from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:53.593853Z",
  "data": {
    "url_values": {
      "limit": [
        "10"
      ],
      "offset": [
        "0"
      ],
      "q": [
        "housing"
      ],
      "sort": [
        "relevance"
      ]
    }
  },
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.getCategoriesTypesCount",
          "line": 183
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func3",
          "line": 121
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "getting search query count from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:53.595143Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func3",
          "line": 123
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "getting categories, types and its counts failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:53.59579Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func3",
          "line": 124
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:53.596414Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 133
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func2.5",
          "line": 271
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
52 total assertions[0m

[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:29:53.598097Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:29:53.598345Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
{
  "created_at": "2022-10-10T14:29:53.598755Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.validateCurrentPage",
          "line": 156
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 137
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func3.5",
          "line": 312
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "current page exceeds total pages",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:53.600242Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 139
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func3.5",
          "line": 312
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "unable to validate current page",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:29:53.601439Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 140
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func3.5",
          "line": 312
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
58 total assertions[0m

FAIL
coverage: 86.8% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/handlers	1.328s
ok  	github.com/ONSdigital/dp-frontend-search-controller/mapper	0.805s	coverage: 74.1% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/model	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/routes	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/service	1.960s	coverage: 83.7% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/service/mocks	[no test files]
FAIL
cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
ok  	github.com/ONSdigital/dp-frontend-search-controller	0.860s	coverage: 0.0% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/apperrors	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/assets	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache	0.582s	coverage: 86.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/private	0.563s	coverage: 100.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/public	1.262s	coverage: 94.5% of statements
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33mx[0m[32m.[0m[32m.[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/config/config_test.go 
  Line 38:
  Expected: '30s'
  Actual:   '3m20s'
  (Should be equal)
  Diff:     '3[32mm2[0m0s'

[0m[33m
20 total assertions[0m

--- FAIL: TestConfig (0.00s)
FAIL
coverage: 72.7% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/config	0.345s
ok  	github.com/ONSdigital/dp-frontend-search-controller/data	1.033s	coverage: 96.5% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/features/steps	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/handlers	0.763s	coverage: 86.8% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/mapper	0.726s	coverage: 74.1% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/model	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/routes	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/service	0.576s	coverage: 83.7% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/service/mocks	[no test files]
FAIL
cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
ok  	github.com/ONSdigital/dp-frontend-search-controller	1.352s	coverage: 0.0% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/apperrors	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/assets	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache	0.611s	coverage: 86.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/private	0.753s	coverage: 100.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/public	0.545s	coverage: 94.5% of statements
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33mx[0m[32m.[0m[32m.[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/config/config_test.go 
  Line 38:
  Expected: '30s'
  Actual:   '3m20s'
  (Should be equal)
  Diff:     '3[32mm2[0m0s'

[0m[33m
20 total assertions[0m

--- FAIL: TestConfig (0.00s)
FAIL
coverage: 72.7% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/config	0.292s
ok  	github.com/ONSdigital/dp-frontend-search-controller/data	0.979s	coverage: 96.5% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/features/steps	[no test files]
[32m.[0m[31m[0m[33m[0m[32m
1 total assertion[0m

[32m.[0m[31m[0m[33m[0m[32m
2 total assertions[0m

[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
11 total assertions[0m

[32m.[0m[31m[0m[33m[0m[32m
12 total assertions[0m

{
  "created_at": "2022-10-10T14:30:15.078581Z",
  "data": {
    "filter_type": "unknown"
  },
  "event": "unrecognised filter type returned from api",
  "namespace": "handlers.test",
  "severity": 2
}
[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
14 total assertions[0m

{
  "created_at": "2022-10-10T14:30:15.075275Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.validateCurrentPage",
          "line": 156
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitValidateCurrentPageFailure.func1.1.1",
          "line": 386
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "current page exceeds total pages",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:15.076102Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitSetStatusCodeSuccess.func1.1",
          "line": 544
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
{Intro:{Title: Markdown:} FeaturedContent:[{Title:Weekly deaths Description:The most up-to-date provisional figures for deaths involving the coronavirus (COVID-19) on Mars. URI:https://www.ons.gov.uk/peoplepopulationandcommunity/birthsdeathsandmarriages/deaths/datasets/weeklyprovisionalfiguresondeathsregisteredinenglandandwales ImageID:23083a36-f835-4731-8189-8ee8d7918120} {Title:Coronavirus - faster indicators Description:The latest data and experimental indicators on the UK economy and society. URI:https://www.ons.gov.uk/peoplepopulationandcommunity/healthandsocialcare/conditionsanddiseases/bulletins/coronavirustheukeconomyandsocietyfasterindicators/latest ImageID:b085fec3-bba6-40fc-9763-a2b36f98e538} {Title:Coronavirus roundup Description:Our summary of the latest data and analysis related to the coronavirus pandemic. URI:https://www.ons.gov.uk/peoplepopulationandcommunity/healthandsocialcare/conditionsanddiseases/articles/coronaviruscovid19roundup/2020-03-26 ImageID:e354e92b-d991-4e5a-8873-0b9ca9915226} {Title:homepage preview Description:Find out more about the work ONS is doing to respond to the challenge of the pandemic. URI:https://blog.ons.gov.uk/category/coronavirus/ ImageID:0d5d1b9a-c497-42bc-ba7e-f88681271d52} {Title:The News Description:This is the news URI:https://www.bbc.co.uk/news ImageID:6fda8715-1389-4fb1-96d0-a2b817d3cc5b} {Title:Something Description:Some text here. Some more text here. URI:http://www.somewhere.com/ ImageID:14a87d00-308c-4eb1-8c25-5bbd939dc9a1} {Title:Cows Description:Cows are lovely URI:https://www.britannica.com/animal/cow ImageID:028b71c9-9b67-4b6f-be76-78b5c056ee96} {Title:Batman Description:Batman URI:testimage.gov.uk ImageID:9507972f-7072-41d5-9d97-ed02aa4482e7}] AroundONS:[{Title:Local statistics Description:Where to find statistics covering specific areas. URI:https://www.ons.gov.uk/help/localstatistics ImageID:55664eaa-36a5-45b5-afd4-0e8243c16f1b} {Title:Secure Research Service Description:Find out how ONS secure data could help your research project. URI:https://www.ons.gov.uk/aboutus/whatwedo/statistics/requestingstatistics/approvedresearcherscheme ImageID:d9ec9cae-087c-47c6-959a-1c51e7db165a} {Title:ONS Centres Description:Producing new analysis and insights to support key policy areas. URI:https://www.ons.gov.uk/aboutus/whatwedo/programmesandprojects/onscentres ImageID:7fa70866-e8b9-4152-b9e5-f25a05e6621c} {Title:Other government statistics Description:Official Statistics available from across government. URI:https://www.gov.uk/government/statistics ImageID:6f84daa0-3eea-4264-87af-18d00022cc6f} {Title:Test Around ONS Description:Test the Around ONS feature for demo some more URI:/aroundonstest ImageID:491d665d-d0f5-4f4b-9570-6c2a28f11c1a}] ServiceMessage:this is a test URI:/ Type:home_page Description:{Title:Home Summary:The UK's largest independent producer of official statistics and the recognised national statistical institute of the UK. Keywords:[statistics economy census population inflation employment] MetaDescription:The UK's largest independent producer of official statistics and the recognised national statistical institute of the UK. Unit: PreUnit: Source:} EmergencyBanner:{Type:notable_death Title:This is not not an emergency Description:Something has gone wrong URI:google.com LinkText:More info}}
[32m.[0m[31m[0m[33m[0m[32m
15 total assertions[0m

[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
17 total assertions[0m

{
  "created_at": "2022-10-10T14:30:15.07313Z",
  "data": {
    "url_values": {
      "content_type": [
        "bulletin"
      ],
      "limit": [
        "10"
      ],
      "offset": [
        "0"
      ],
      "q": [
        "housing"
      ],
      "sort": [
        "relevance"
      ]
    }
  },
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.getCategoriesTypesCount",
          "line": 183
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitGetCategoriesTypesCountFailure.func1.2",
          "line": 464
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "getting search query count from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m[32m..[0m[0m[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:30:15.081461Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:15.081647Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:15.081744Z",
  "event": "unable to convert search page to int - set to default 1",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:15.081879Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:15.081999Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
{
  "created_at": "2022-10-10T14:30:15.082194Z",
  "event": "unable to convert search page to int - set to default 1",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:15.082429Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:30:15.080771Z",
  "errors": [
    {
      "message": "client error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitSetStatusCodeSuccess.func2.1",
          "line": 559
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m[32m.[0m[31m[0m[33m[0m[32m
27 total assertions[0m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:30:15.081287Z",
  "data": {
    "url_values": {
      "content_type": [
        "bulletin"
      ],
      "limit": [
        "10"
      ],
      "offset": [
        "0"
      ],
      "q": [
        "housing"
      ],
      "sort": [
        "relevance"
      ]
    }
  },
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.getCategoriesTypesCount",
          "line": 183
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitGetCategoriesTypesCountFailure.func1.2",
          "line": 464
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "getting search query count from client failed",
  "namespace": "handlers.test",
  "severity": 1
}


[32m.[0m[32m.[32m.[0m[0m[32m[32m.[0m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[32m[32m.[0m[0m.[0m{
  "created_at": "2022-10-10T14:30:15.081956Z",
  "data": {
    "current_page": 1000000,
    "limit": 10
  },
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/pagination.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.getOffset",
          "line": 95
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/pagination.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.reviewPagination",
          "line": 33
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/query.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.ReviewQuery",
          "line": 29
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 55
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        }
      ]
    }
  ],
  "event": "offset is too big as large page and/or limit given",
  "namespace": "handlers.test",
  "severity": 1
}
[31m[0m[33m[0m[31m[32m[0m[33m[0m
40 total assertions[0m

[32m
40 total assertions[0m[33mx

[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go 
  Line 107:
  Expected: '1234'
  Actual:   ''
  (Should be equal)

[0m[33m
41 total assertions[0m

--- FAIL: TestUnitReadHandlerSuccess (0.01s)
{
  "created_at": "2022-10-10T14:30:15.085923Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/pagination.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.reviewPagination",
          "line": 35
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/query.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.ReviewQuery",
          "line": 29
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 55
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        }
      ]
    }
  ],
  "event": "unable to get offset",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:15.085763Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitSetStatusCodeSuccess.func3.1",
          "line": 574
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[31m[0m[33m[0m[33m
42 total assertions[0m

{
  "created_at": "2022-10-10T14:30:15.087184Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/query.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.ReviewQuery",
          "line": 31
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 55
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "unable to review pagination",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:15.088292Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 57
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "unable to review query",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:15.089581Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 58
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
46 total assertions[0m

[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:30:15.091734Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:15.091906Z",
  "event": "unable to convert search page to int - set to default 1",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:15.092074Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
{
  "created_at": "2022-10-10T14:30:15.092446Z",
  "data": {
    "url_values": {
      "limit": [
        "10"
      ],
      "offset": [
        "0"
      ],
      "q": [
        "housing"
      ],
      "sort": [
        "relevance"
      ]
    }
  },
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.getCategoriesTypesCount",
          "line": 183
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func3",
          "line": 121
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "getting search query count from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:15.092424Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func2",
          "line": 112
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "getting search response from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:15.093224Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func3",
          "line": 123
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "getting categories, types and its counts failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:15.09373Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func3",
          "line": 124
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:15.094328Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 133
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func2.5",
          "line": 271
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
52 total assertions[0m

[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:30:15.096259Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:15.096411Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
{
  "created_at": "2022-10-10T14:30:15.096719Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.validateCurrentPage",
          "line": 156
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 137
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func3.5",
          "line": 312
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "current page exceeds total pages",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:15.097799Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 139
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func3.5",
          "line": 312
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "unable to validate current page",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:15.09888Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 140
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func3.5",
          "line": 312
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
58 total assertions[0m

FAIL
coverage: 86.8% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/handlers	0.748s
ok  	github.com/ONSdigital/dp-frontend-search-controller/mapper	1.210s	coverage: 74.1% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/model	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/routes	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/service	1.309s	coverage: 83.7% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/service/mocks	[no test files]
FAIL
cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
ok  	github.com/ONSdigital/dp-frontend-search-controller	1.255s	coverage: 0.0% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/apperrors	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/assets	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache	0.749s	coverage: 86.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/private	0.639s	coverage: 100.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/public	0.378s	coverage: 94.5% of statements
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33mx[0m[32m.[0m[32m.[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/config/config_test.go 
  Line 38:
  Expected: '30s'
  Actual:   '3m20s'
  (Should be equal)
  Diff:     '3[32mm2[0m0s'

[0m[33m
20 total assertions[0m

--- FAIL: TestConfig (0.01s)
FAIL
coverage: 72.7% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/config	0.307s
ok  	github.com/ONSdigital/dp-frontend-search-controller/data	1.406s	coverage: 96.5% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/features/steps	[no test files]
[32m.[0m[31m[0m[33m[0m[32m
1 total assertion[0m

[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
3 total assertions[0m

[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
5 total assertions[0m

{
  "created_at": "2022-10-10T14:30:24.544622Z",
  "data": {
    "filter_type": "unknown"
  },
  "event": "unrecognised filter type returned from api",
  "namespace": "handlers.test",
  "severity": 2
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m[31m[0m[33m[0m[32m
9 total assertions[0m

.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
14 total assertions[0m

{
  "created_at": "2022-10-10T14:30:24.539814Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.validateCurrentPage",
          "line": 156
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitValidateCurrentPageFailure.func1.1.1",
          "line": 386
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "current page exceeds total pages",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
16 total assertions[0m

{
  "created_at": "2022-10-10T14:30:24.539941Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitSetStatusCodeSuccess.func1.1",
          "line": 544
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[31m[0m[33m[0m[32m
17 total assertions[0m

{
  "created_at": "2022-10-10T14:30:24.54453Z",
  "data": {
    "url_values": {
      "content_type": [
        "bulletin"
      ],
      "limit": [
        "10"
      ],
      "offset": [
        "0"
      ],
      "q": [
        "housing"
      ],
      "sort": [
        "relevance"
      ]
    }
  },
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.getCategoriesTypesCount",
          "line": 183
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitGetCategoriesTypesCountFailure.func1.2",
          "line": 464
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "getting search query count from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m{Intro:{Title: Markdown:} FeaturedContent:[{Title:Weekly deaths Description:The most up-to-date provisional figures for deaths involving the coronavirus (COVID-19) on Mars. URI:https://www.ons.gov.uk/peoplepopulationandcommunity/birthsdeathsandmarriages/deaths/datasets/weeklyprovisionalfiguresondeathsregisteredinenglandandwales ImageID:23083a36-f835-4731-8189-8ee8d7918120} {Title:Coronavirus - faster indicators Description:The latest data and experimental indicators on the UK economy and society. URI:https://www.ons.gov.uk/peoplepopulationandcommunity/healthandsocialcare/conditionsanddiseases/bulletins/coronavirustheukeconomyandsocietyfasterindicators/latest ImageID:b085fec3-bba6-40fc-9763-a2b36f98e538} {Title:Coronavirus roundup Description:Our summary of the latest data and analysis related to the coronavirus pandemic. URI:https://www.ons.gov.uk/peoplepopulationandcommunity/healthandsocialcare/conditionsanddiseases/articles/coronaviruscovid19roundup/2020-03-26 ImageID:e354e92b-d991-4e5a-8873-0b9ca9915226} {Title:homepage preview Description:Find out more about the work ONS is doing to respond to the challenge of the pandemic. URI:https://blog.ons.gov.uk/category/coronavirus/ ImageID:0d5d1b9a-c497-42bc-ba7e-f88681271d52} {Title:The News Description:This is the news URI:https://www.bbc.co.uk/news ImageID:6fda8715-1389-4fb1-96d0-a2b817d3cc5b} {Title:Something Description:Some text here. Some more text here. URI:http://www.somewhere.com/ ImageID:14a87d00-308c-4eb1-8c25-5bbd939dc9a1} {Title:Cows Description:Cows are lovely URI:https://www.britannica.com/animal/cow ImageID:028b71c9-9b67-4b6f-be76-78b5c056ee96} {Title:Batman Description:Batman URI:testimage.gov.uk ImageID:9507972f-7072-41d5-9d97-ed02aa4482e7}] AroundONS:[{Title:Local statistics Description:Where to find statistics covering specific areas. URI:https://www.ons.gov.uk/help/localstatistics ImageID:55664eaa-36a5-45b5-afd4-0e8243c16f1b} {Title:Secure Research Service Description:Find out how ONS secure data could help your research project. URI:https://www.ons.gov.uk/aboutus/whatwedo/statistics/requestingstatistics/approvedresearcherscheme ImageID:d9ec9cae-087c-47c6-959a-1c51e7db165a} {Title:ONS Centres Description:Producing new analysis and insights to support key policy areas. URI:https://www.ons.gov.uk/aboutus/whatwedo/programmesandprojects/onscentres ImageID:7fa70866-e8b9-4152-b9e5-f25a05e6621c} {Title:Other government statistics Description:Official Statistics available from across government. URI:https://www.gov.uk/government/statistics ImageID:6f84daa0-3eea-4264-87af-18d00022cc6f} {Title:Test Around ONS Description:Test the Around ONS feature for demo some more URI:/aroundonstest ImageID:491d665d-d0f5-4f4b-9570-6c2a28f11c1a}] ServiceMessage:this is a test URI:/ Type:home_page Description:{Title:Home Summary:The UK's largest independent producer of official statistics and the recognised national statistical institute of the UK. Keywords:[statistics economy census population inflation employment] MetaDescription:The UK's largest independent producer of official statistics and the recognised national statistical institute of the UK. Unit: PreUnit: Source:} EmergencyBanner:{Type:notable_death Title:This is not not an emergency Description:Something has gone wrong URI:google.com LinkText:More info}}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:30:24.548702Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:24.548866Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:24.548933Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:24.548989Z",
  "event": "unable to convert search page to int - set to default 1",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:24.549198Z",
  "event": "unable to convert search page to int - set to default 1",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:24.549325Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
{
  "created_at": "2022-10-10T14:30:24.547519Z",
  "errors": [
    {
      "message": "client error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitSetStatusCodeSuccess.func2.1",
          "line": 559
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:24.549455Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
[32m.[0m[31m[0m[33m[0m[32m
25 total assertions[0m

{
  "created_at": "2022-10-10T14:30:24.54773Z",
  "data": {
    "url_values": {
      "content_type": [
        "bulletin"
      ],
      "limit": [
        "10"
      ],
      "offset": [
        "0"
      ],
      "q": [
        "housing"
      ],
      "sort": [
        "relevance"
      ]
    }
  },
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.getCategoriesTypesCount",
          "line": 183
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitGetCategoriesTypesCountFailure.func1.2",
          "line": 464
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "getting search query count from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
31 total assertions[0m

[0m[32m[32m..[0m[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[32m
40 total assertions[0m

[33mx[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go 
  Line 107:
  Expected: '1234'
  Actual:   ''
  (Should be equal)

[0m[33m
41 total assertions[0m

--- FAIL: TestUnitReadHandlerSuccess (0.01s)
{
  "created_at": "2022-10-10T14:30:24.549188Z",
  "data": {
    "current_page": 1000000,
    "limit": 10
  },
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/pagination.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.getOffset",
          "line": 95
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/pagination.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.reviewPagination",
          "line": 33
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/query.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.ReviewQuery",
          "line": 29
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 55
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        }
      ]
    }
  ],
  "event": "offset is too big as large page and/or limit given",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:24.550207Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitSetStatusCodeSuccess.func3.1",
          "line": 574
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[31m[0m[33m[0m[33m
42 total assertions[0m

{
  "created_at": "2022-10-10T14:30:24.553698Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/pagination.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.reviewPagination",
          "line": 35
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/query.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.ReviewQuery",
          "line": 29
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 55
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        }
      ]
    }
  ],
  "event": "unable to get offset",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:24.554881Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/data/query.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/data.ReviewQuery",
          "line": 31
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 55
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "unable to review pagination",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:24.556142Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 57
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "unable to review query",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:24.557367Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the default maximum search results",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 58
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func1.5",
          "line": 230
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
46 total assertions[0m

[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:30:24.559904Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:24.560101Z",
  "event": "unable to convert search page to int - set to default 1",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:24.560275Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
{
  "created_at": "2022-10-10T14:30:24.560673Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func2",
          "line": 112
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "getting search response from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:24.560673Z",
  "data": {
    "url_values": {
      "limit": [
        "10"
      ],
      "offset": [
        "0"
      ],
      "q": [
        "housing"
      ],
      "sort": [
        "relevance"
      ]
    }
  },
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.getCategoriesTypesCount",
          "line": 183
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func3",
          "line": 121
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "getting search query count from client failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:24.561787Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func3",
          "line": 123
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "getting categories, types and its counts failed",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:24.562366Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read.func3",
          "line": 124
        },
        {
          "file": "/usr/local/Cellar/go/1.19.2/libexec/src/runtime/asm_amd64.s",
          "function": "runtime.goexit",
          "line": 1594
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:24.562962Z",
  "errors": [
    {
      "message": "internal server error",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 133
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func2.5",
          "line": 271
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
52 total assertions[0m

[32m.[0m[32m.[0m{
  "created_at": "2022-10-10T14:30:24.564944Z",
  "event": "unable to convert search limit to int - set to default 10",
  "namespace": "handlers.test",
  "severity": 3
}
{
  "created_at": "2022-10-10T14:30:24.5651Z",
  "event": "sort chosen not available in sort options - default to sort relevance",
  "namespace": "handlers.test",
  "severity": 2
}
{
  "created_at": "2022-10-10T14:30:24.565458Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.validateCurrentPage",
          "line": 156
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 137
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func3.5",
          "line": 312
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "current page exceeds total pages",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:24.566532Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 139
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func3.5",
          "line": 312
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey",
          "line": 165
        }
      ]
    }
  ],
  "event": "unable to validate current page",
  "namespace": "handlers.test",
  "severity": 1
}
{
  "created_at": "2022-10-10T14:30:24.567628Z",
  "errors": [
    {
      "message": "invalid page value, exceeding the total page value",
      "stack_trace": [
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/log.go/v2@v2.2.0/log/log.go",
          "function": "github.com/ONSdigital/log.go/v2/log.Error",
          "line": 91
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.setStatusCode",
          "line": 234
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.read",
          "line": 140
        },
        {
          "file": "/Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/handlers/handlers_test.go",
          "function": "github.com/ONSdigital/dp-frontend-search-controller/handlers.TestUnitReadFailure.func3.5",
          "line": 312
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/discovery.go",
          "function": "github.com/smartystreets/goconvey/convey.parseAction.func1",
          "line": 89
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).conveyInner",
          "line": 279
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/smartystreets/goconvey@v1.7.2/convey/context.go",
          "function": "github.com/smartystreets/goconvey/convey.(*context).Convey.func1",
          "line": 166
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues.func1",
          "line": 97
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/gid.go",
          "function": "github.com/jtolds/gls.EnsureGoroutineId",
          "line": 19
        },
        {
          "file": "/Users/nathanshumoogum/ons/go/pkg/mod/github.com/jtolds/gls@v4.20.0+incompatible/context.go",
          "function": "github.com/jtolds/gls.(*ContextManager).SetValues",
          "line": 63
        }
      ]
    }
  ],
  "event": "setting-response-status",
  "namespace": "handlers.test",
  "severity": 1
}
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[31m[0m[33m[0m[33m
58 total assertions[0m

FAIL
coverage: 86.8% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/handlers	1.165s
ok  	github.com/ONSdigital/dp-frontend-search-controller/mapper	0.906s	coverage: 74.1% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/model	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/routes	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/service	1.562s	coverage: 83.7% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/service/mocks	[no test files]
FAIL
cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
ok  	github.com/ONSdigital/dp-frontend-search-controller	1.163s	coverage: 0.0% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/apperrors	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/assets	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache	0.883s	coverage: 86.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/private	0.529s	coverage: 100.0% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/cache/public	0.821s	coverage: 94.5% of statements
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[33mx[0m[32m.[0m[32m.[0m[31m[0m[33m
Failures:

  * /Users/nathanshumoogum/code/go-projects/ons/dp-frontend-search-controller/config/config_test.go 
  Line 38:
  Expected: '30s'
  Actual:   '3m20s'
  (Should be equal)
  Diff:     '3[32mm2[0m0s'

[0m[33m
20 total assertions[0m

--- FAIL: TestConfig (0.00s)
FAIL
coverage: 72.7% of statements
FAIL	github.com/ONSdigital/dp-frontend-search-controller/config	0.317s
ok  	github.com/ONSdigital/dp-frontend-search-controller/data	0.760s	coverage: 96.5% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/features/steps	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/handlers	1.166s	coverage: 86.8% of statements
ok  	github.com/ONSdigital/dp-frontend-search-controller/mapper	1.013s	coverage: 74.1% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/model	[no test files]
?   	github.com/ONSdigital/dp-frontend-search-controller/routes	[no test files]
ok  	github.com/ONSdigital/dp-frontend-search-controller/service	1.384s	coverage: 83.7% of statements
?   	github.com/ONSdigital/dp-frontend-search-controller/service/mocks	[no test files]
FAIL
cd assets; go run github.com/kevinburke/go-bindata/go-bindata -prefix /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets -o data.go -pkg assets locales/... templates/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/locales/... /Users/nathanshumoogum/ons/go/pkg/mod/github.com/!o!n!sdigital/dp-renderer@v1.46.1/assets/templates/...
{ echo "// +build production\n"; cat assets/data.go; } > assets/data.go.new
mv assets/data.go.new assets/data.go
go test -race -cover -tags 'production' ./...
